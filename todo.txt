Get rid of KEYB and do proper interrupt handling on keypresses (that push all the registers onto the stack and handles the keypress). In order to get the interrupt to fire on keypress, the debugger should just become the normal emulation, and it should have a run and a debug mode that can be toggled using F2 or something. In debug mode, the keypresses control the debugger. In run mode, keypresses fire the interrupt.
